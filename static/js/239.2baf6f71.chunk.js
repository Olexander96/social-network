"use strict";(self.webpackChunk_1_project=self.webpackChunk_1_project||[]).push([[239],{1239:function(e,t,s){s.r(t),s.d(t,{default:function(){return ee}});var r,n=s(1413),o=s(5671),i=s(3144),a=s(136),l=s(516),c=s(2791),u={content:"Profile_content__njilw"},d=s(9439),p=s(8992),f={descriptionBlock:"ProfileInfo_descriptionBlock__AO4M2",avatarBlock:"ProfileInfo_avatarBlock__Nm38g",downloadIcon:"ProfileInfo_downloadIcon__3Q9Fj",status:"ProfileInfo_status__qnPE3",statusIcon:"ProfileInfo_statusIcon__WOwxZ"},h=s(8478),v=["title","titleId"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},m.apply(this,arguments)}function j(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function x(e,t){var s=e.title,n=e.titleId,o=j(e,v);return c.createElement("svg",m({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 121.51",ref:t,"aria-labelledby":n},o),void 0===s?c.createElement("title",{id:n},"edit"):s?c.createElement("title",{id:n},s):null,r||(r=c.createElement("path",{d:"M28.66,1.64H58.88L44.46,16.71H28.66a13.52,13.52,0,0,0-9.59,4l0,0a13.52,13.52,0,0,0-4,9.59v76.14H91.21a13.5,13.5,0,0,0,9.59-4l0,0a13.5,13.5,0,0,0,4-9.59V77.3l15.07-15.74V92.85a28.6,28.6,0,0,1-8.41,20.22l0,.05a28.58,28.58,0,0,1-20.2,8.39H11.5a11.47,11.47,0,0,1-8.1-3.37l0,0A11.52,11.52,0,0,1,0,110V30.3A28.58,28.58,0,0,1,8.41,10.09L8.46,10a28.58,28.58,0,0,1,20.2-8.4ZM73,76.47l-29.42,6,4.25-31.31L73,76.47ZM57.13,41.68,96.3.91A2.74,2.74,0,0,1,99.69.38l22.48,21.76a2.39,2.39,0,0,1-.19,3.57L82.28,67,57.13,41.68Z"})))}var g,b=c.forwardRef(x),P=(s.p,s(184)),y=function(e){var t=(0,c.useState)(!1),s=(0,d.Z)(t,2),r=s[0],n=s[1],o=(0,c.useState)(e.status),i=(0,d.Z)(o,2),a=i[0],l=i[1];(0,c.useEffect)((function(){l(e.status)}),[e.status]);return(0,P.jsx)("div",{className:f.status,children:r?(0,P.jsx)("input",{autoFocus:!0,onBlur:function(){n(!1),e.updateUserStatus(a)},value:a,onChange:function(e){l(e.currentTarget.value)}}):(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:e.status||"-------"}),(0,P.jsx)(b,{onClick:function(){n(!0)},className:f.statusIcon})]})})},S=function(e){var t=e.contactTitle,s=e.contactValue;return(0,P.jsxs)("div",{className:f.contactItem,children:[t,": ",s]})},k=function(e){var t=e.profile,s=e.isOwner,r=e.activateEditMode;return(0,P.jsxs)("div",{children:[s?(0,P.jsx)("button",{onClick:r,children:"Edit"}):null,(0,P.jsx)("div",{children:(0,P.jsxs)("span",{children:["Full name: ",t.fullName]})}),(0,P.jsx)("div",{children:(0,P.jsxs)("span",{children:["About me: ",t.aboutMe]})}),(0,P.jsx)("div",{children:(0,P.jsxs)("span",{children:["Looking for a job: ",t.lookingForAJob?"yes":"no"]})}),t.lookingForAJob?(0,P.jsx)("div",{children:(0,P.jsxs)("span",{children:["My professional skills: ",t.lookingForAJobDescription]})}):null,(0,P.jsx)("div",{children:(0,P.jsxs)("span",{children:["Contacts: ",Object.keys(t.contacts).map((function(e){return(0,P.jsx)(S,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})})]})},w=s(1595),O=s(704),_=s(9058),I=(0,O.Z)({form:"profile-form"})((function(e){var t=e.handleSubmit,s=e.profile,r=e.error;e.editModeStatus;return(0,P.jsxs)("form",{onSubmit:t,children:[(0,P.jsx)("button",{children:"Save"}),r?(0,P.jsx)("div",{className:_.Z.formErrorSummary,children:r}):null,(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:"Full name:"}),(0,w.Gr)(w.II,"Full name","fullName",[])]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:"About me:"}),(0,w.Gr)(w.gx,"About me","aboutMe",[])]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:"Looking for a job:"}),(0,w.Gr)(w.II,"","lookingForAJob",[],{type:"checkbox"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:"My professional skills:"}),(0,w.Gr)(w.gx,"My professional skills","lookingForAJobDescription",[])]}),(0,P.jsx)("div",{children:(0,P.jsxs)("span",{children:["Contacts: ",Object.keys(s.contacts).map((function(e){return(0,P.jsxs)("div",{className:f.contactItem,children:[(0,P.jsx)("span",{children:e}),(0,w.Gr)(w.II,e,"contacts."+e,[])]},e)}))]})})]})})),M=["title","titleId"];function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Z.apply(this,arguments)}function A(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function N(e,t){var s=e.title,r=e.titleId,n=A(e,M);return c.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 512 342.06",ref:t,"aria-labelledby":r},n),s?c.createElement("title",{id:r},s):null,g||(g=c.createElement("path",{d:"M271.14 2.64c50.45 8.83 86.48 38.5 110.54 83.1l4.51-.45c18.95-1.39 38.61 1.62 56.18 8.84 34.63 14.2 55.57 42.42 64.44 77.79 6.76 26.89 7.34 56.62-.79 83.27-12.47 41.01-42.09 62.32-81.01 75.68l-.42.13c-8.15 2.76-16.46 5.06-24.56 6.93-39.29 6.93-249.08 3.73-296.18.56l-2.4-.26c-8.02-1.07-15.95-2.77-23.54-5.15-35.34-11.01-60.51-35.03-72.13-70.51-7.96-24.36-7.56-50.6.37-74.93 6.68-20.46 16.3-34.33 29.63-44.85 15.76-12.45 37.62-20.69 57.19-26.21C115.68 34.94 187.54-11.94 271.14 2.64zm55.11 186.93c5.19.22 8.87 1.94 11 5.17 5.77 8.66-2.11 17.21-7.58 23.23l-67.7 59.77c-5.8 6.41-14.06 6.41-19.86 0l-61.25-61.4c-5.11-5.77-11.43-13.62-6.12-21.6 2.19-3.23 5.83-4.95 11.01-5.17h34.9v-55.43c0-7.86 6.47-14.37 14.36-14.37h41.98c7.89 0 14.35 6.7 14.35 14.37v55.43h34.91z"})))}var C=c.forwardRef(N),E=(s.p,function(e){var t=e.profile,s=e.status,r=e.updateUserStatus,n=e.isOwner,o=e.savePhoto,i=e.saveProfileFormData,a=e.editModeStatus,l=(0,c.useState)(!1),u=(0,d.Z)(l,2),v=u[0],m=u[1];return t?(0,P.jsx)("div",{children:(0,P.jsxs)("div",{className:f.descriptionBlock,children:[(0,P.jsxs)("div",{className:f.avatarBlock,children:[(0,P.jsx)("img",{src:t.photos.large||h,alt:"user-avatar"}),n?(0,P.jsxs)("label",{children:[(0,P.jsx)(C,{className:f.downloadIcon}),(0,P.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})]}):null]}),(0,P.jsx)(y,{status:s,updateUserStatus:r}),(0,P.jsxs)("div",{className:f.profileDataBlock,children:[(0,P.jsx)("h1",{children:"Profile info:"}),v?(0,P.jsx)(I,{initialValues:t,onSubmit:function(e){i(e),"SUCCESS"===a&&m(!1)},profile:t,editModeStatus:a}):(0,P.jsx)(k,{profile:t,isOwner:n,activateEditMode:function(){m(!0)}})]})]})}):(0,P.jsx)(p.Z,{})}),F="Post_item__wd+99",U=function(e){return(0,P.jsxs)("div",{className:F,children:[(0,P.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSY4JmSLi5dZYfNLYBW-LtPGbN4W571XtNMVQ&usqp=CAU",alt:"avatar"}),(0,P.jsx)("span",{children:e.message}),(0,P.jsxs)("span",{children:["likes ",e.likesCount]})]})},B="MyPosts_postsBlock__Tyn6L",L="MyPosts_writePost__YGPfE",D="MyPosts_posts__W1RuA",R=s(6139),G=s(5304),J=(0,G.BS)(15),V=(0,O.Z)({form:"post"})((function(e){return(0,P.jsxs)("form",{onSubmit:e.handleSubmit,className:L,children:[(0,P.jsx)(R.Z,{component:w.gx,name:"newPost",validate:[G.C1,J],placeholder:"Post message"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("button",{children:"Add Post"}),(0,P.jsx)("button",{children:"Remove Post"})]})]})})),q=function(e){var t=e.profilePage.posts.map((function(e){return(0,P.jsx)(U,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,P.jsxs)("div",{className:B,children:[(0,P.jsx)(V,{onSubmit:function(t){e.addPost(t.newPost)}}),(0,P.jsx)("div",{className:D,children:t})]})},z=c.memo(q),T=s(6070),W=s(8687),H=(0,W.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e((0,T.WA)(t))}}}))(z),Y=function(e){return(0,P.jsxs)("div",{className:u.content,children:[(0,P.jsx)(E,{className:u.ProfileInfo,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfileFormData:e.saveProfileFormData,editModeStatus:e.editModeStatus}),(0,P.jsx)(H,{})]})},Q=s(3636),$=s(7781),X=s(4776),K=function(e){(0,a.Z)(s,e);var t=(0,l.Z)(s);function s(){return(0,o.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.params.userId;null==e&&((e=this.props.authorizedUserId)||this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.params.userId!==e.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(Y,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.params.userId,savePhoto:this.props.savePhoto,saveProfileFormData:this.props.saveProfileFormData,editModeStatus:this.props.editModeStatus}))}}]),s}(c.Component),ee=(0,$.qC)((0,W.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,editModeStatus:e.profilePage.editModeStatus}}),{getUserProfile:T.et,getUserStatus:T.Tq,updateUserStatus:T.OL,savePhoto:T.Ju,saveProfileFormData:T.od}),X.E,Q.Z)(K)},3636:function(e,t,s){var r=s(1413),n=s(5671),o=s(3144),i=s(136),a=s(516),l=s(2791),c=s(7689),u=s(8687),d=s(184),p=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){var t=function(t){(0,i.Z)(l,t);var s=(0,a.Z)(l);function l(){return(0,n.Z)(this,l),s.apply(this,arguments)}return(0,o.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,r.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,u.$j)(p)(t)}}}]);
//# sourceMappingURL=239.2baf6f71.chunk.js.map