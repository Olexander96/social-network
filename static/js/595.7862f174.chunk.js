"use strict";(self.webpackChunk_1_project=self.webpackChunk_1_project||[]).push([[595],{7028:function(e,t,r){r.r(t),r.d(t,{default:function(){return le}});var s,o=r(1413),n=r(5671),i=r(3144),a=r(136),l=r(516),c=r(2791),u={content:"Profile_content__njilw"},f=r(9439),p=r(8992),d={descriptionBlock:"ProfileInfo_descriptionBlock__AO4M2",avatarBlock:"ProfileInfo_avatarBlock__Nm38g",downloadIcon:"ProfileInfo_downloadIcon__3Q9Fj",status:"ProfileInfo_status__qnPE3",statusIcon:"ProfileInfo_statusIcon__WOwxZ",profileData:"ProfileInfo_profileData__Rdqog",profileEditBlock:"ProfileInfo_profileEditBlock__8ABpp",EditProfileDataIcon:"ProfileInfo_EditProfileDataIcon__vbBDp",profileDataList:"ProfileInfo_profileDataList__q1mGc",profileContacts:"ProfileInfo_profileContacts__ZS7UU",profileContactsList:"ProfileInfo_profileContactsList__r5nMj",dataEditForm:"ProfileInfo_dataEditForm__XmcH0",contactsBlock:"ProfileInfo_contactsBlock__3SxfA",contactItem:"ProfileInfo_contactItem__AP9ai"},h=r(8478),m=["title","titleId"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},j.apply(this,arguments)}function v(e,t){if(null==e)return{};var r,s,o=function(e,t){if(null==e)return{};var r,s,o={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function x(e,t){var r=e.title,o=e.titleId,n=v(e,m);return c.createElement("svg",j({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 121.51",ref:t,"aria-labelledby":o},n),void 0===r?c.createElement("title",{id:o},"edit"):r?c.createElement("title",{id:o},r):null,s||(s=c.createElement("path",{d:"M28.66,1.64H58.88L44.46,16.71H28.66a13.52,13.52,0,0,0-9.59,4l0,0a13.52,13.52,0,0,0-4,9.59v76.14H91.21a13.5,13.5,0,0,0,9.59-4l0,0a13.5,13.5,0,0,0,4-9.59V77.3l15.07-15.74V92.85a28.6,28.6,0,0,1-8.41,20.22l0,.05a28.58,28.58,0,0,1-20.2,8.39H11.5a11.47,11.47,0,0,1-8.1-3.37l0,0A11.52,11.52,0,0,1,0,110V30.3A28.58,28.58,0,0,1,8.41,10.09L8.46,10a28.58,28.58,0,0,1,20.2-8.4ZM73,76.47l-29.42,6,4.25-31.31L73,76.47ZM57.13,41.68,96.3.91A2.74,2.74,0,0,1,99.69.38l22.48,21.76a2.39,2.39,0,0,1-.19,3.57L82.28,67,57.13,41.68Z"})))}var g,b=c.forwardRef(x),P=(r.p,r(184)),k=function(e){var t=(0,c.useState)(!1),r=(0,f.Z)(t,2),s=r[0],o=r[1],n=(0,c.useState)(e.status),i=(0,f.Z)(n,2),a=i[0],l=i[1];(0,c.useEffect)((function(){l(e.status)}),[e.status]);return(0,P.jsx)("div",{className:d.status,children:s?(0,P.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateUserStatus(a)},value:a,onChange:function(e){l(e.currentTarget.value)}}):(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:e.status||"-------"}),(0,P.jsx)(b,{onClick:function(){o(!0)},className:d.statusIcon})]})})},_=function(e){var t=e.contactTitle,r=e.contactValue;return(0,P.jsxs)("li",{className:d.contactItem,children:[t,": ",(0,P.jsx)("span",{children:r})]})},y=function(e){var t=e.profile,r=e.isOwner,s=e.activateEditMode,o=[];for(var n in t.contacts)t.contacts[n]&&o.push((0,P.jsx)(_,{contactTitle:n,contactValue:t.contacts[n]},n));return(0,P.jsxs)("div",{className:d.profileData,children:[(0,P.jsxs)("div",{className:d.profileEditBlock,children:[(0,P.jsx)("h2",{children:"Profile info:"}),r?(0,P.jsx)(b,{className:d.EditProfileDataIcon,onClick:s}):null]}),(0,P.jsxs)("ul",{className:d.profileDataList,children:[(0,P.jsxs)("li",{children:["Full name: ",(0,P.jsx)("span",{children:t.fullName})]}),(0,P.jsxs)("li",{children:["About me: ",(0,P.jsx)("span",{children:t.aboutMe})]}),(0,P.jsxs)("li",{children:["Looking for a job: ",(0,P.jsx)("span",{children:t.lookingForAJob?"yes":"no"})]}),t.lookingForAJob?(0,P.jsxs)("li",{children:["My professional skills: ",(0,P.jsx)("span",{children:t.lookingForAJobDescription})]}):null]}),(0,P.jsxs)("div",{className:d.profileContacts,children:[(0,P.jsx)("h3",{children:"Contacts:"}),(0,P.jsx)("ul",{className:d.profileContactsList,children:o})]})]})},w=r(1595),I=r(704),O=r(9058),S=(0,I.Z)({form:"profile-form"})((function(e){var t=e.handleSubmit,r=e.profile,s=e.error;e.editModeStatus;return(0,P.jsxs)("form",{className:d.dataEditForm,onSubmit:t,children:[(0,P.jsx)("button",{children:"Save"}),s?(0,P.jsx)("div",{className:O.Z.formErrorSummary,children:s}):null,(0,P.jsxs)("label",{children:["Full name:",(0,w.Gr)(w.II,"Full name","fullName",[])]}),(0,P.jsxs)("label",{children:["About me:",(0,w.Gr)(w.gx,"About me","aboutMe",[])]}),(0,P.jsxs)("label",{className:d.jobCheck,children:["Looking for a job:",(0,w.Gr)(w.II,"","lookingForAJob",[],{type:"checkbox"})]}),(0,P.jsxs)("label",{children:["My professional skills:",(0,w.Gr)(w.gx,"My professional skills","lookingForAJobDescription",[])]}),(0,P.jsxs)("div",{className:d.contactsBlock,children:[(0,P.jsx)("span",{children:"Contacts:"}),Object.keys(r.contacts).map((function(e){return(0,P.jsxs)("label",{className:d.contactItem,children:[e,(0,w.Gr)(w.II,e,"contacts."+e,[])]},e)}))]})]})})),E=["title","titleId"];function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},M.apply(this,arguments)}function L(e,t){if(null==e)return{};var r,s,o=function(e,t){if(null==e)return{};var r,s,o={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function C(e,t){var r=e.title,s=e.titleId,o=L(e,E);return c.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 512 342.06",ref:t,"aria-labelledby":s},o),r?c.createElement("title",{id:s},r):null,g||(g=c.createElement("path",{d:"M271.14 2.64c50.45 8.83 86.48 38.5 110.54 83.1l4.51-.45c18.95-1.39 38.61 1.62 56.18 8.84 34.63 14.2 55.57 42.42 64.44 77.79 6.76 26.89 7.34 56.62-.79 83.27-12.47 41.01-42.09 62.32-81.01 75.68l-.42.13c-8.15 2.76-16.46 5.06-24.56 6.93-39.29 6.93-249.08 3.73-296.18.56l-2.4-.26c-8.02-1.07-15.95-2.77-23.54-5.15-35.34-11.01-60.51-35.03-72.13-70.51-7.96-24.36-7.56-50.6.37-74.93 6.68-20.46 16.3-34.33 29.63-44.85 15.76-12.45 37.62-20.69 57.19-26.21C115.68 34.94 187.54-11.94 271.14 2.64zm55.11 186.93c5.19.22 8.87 1.94 11 5.17 5.77 8.66-2.11 17.21-7.58 23.23l-67.7 59.77c-5.8 6.41-14.06 6.41-19.86 0l-61.25-61.4c-5.11-5.77-11.43-13.62-6.12-21.6 2.19-3.23 5.83-4.95 11.01-5.17h34.9v-55.43c0-7.86 6.47-14.37 14.36-14.37h41.98c7.89 0 14.35 6.7 14.35 14.37v55.43h34.91z"})))}var N,Z=c.forwardRef(C),A=(r.p,function(e){var t=e.profile,r=e.status,s=e.updateUserStatus,o=e.isOwner,n=e.savePhoto,i=e.saveProfileFormData,a=e.editModeStatus,l=(0,c.useState)(!1),u=(0,f.Z)(l,2),m=u[0],j=u[1];return t?(0,P.jsxs)("div",{className:d.descriptionBlock,children:[(0,P.jsxs)("div",{className:d.avatarBlock,children:[(0,P.jsx)("img",{src:t.photos.large||h,alt:"user-avatar"}),o?(0,P.jsxs)("label",{children:[(0,P.jsx)(Z,{className:d.downloadIcon}),(0,P.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})]}):null]}),o?(0,P.jsx)(k,{status:r,updateUserStatus:s}):null,m?(0,P.jsx)(S,{initialValues:t,onSubmit:function(e){i(e),"SUCCESS"===a&&j(!1)},profile:t,editModeStatus:a}):(0,P.jsx)(y,{profile:t,isOwner:o,activateEditMode:function(){j(!0)}})]}):(0,P.jsx)(p.Z,{})}),D="Post_item__wd+99",B="Post_likesBlock__g8Sa7",F="Post_likesIcon__P4v1-",U=["title","titleId"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},R.apply(this,arguments)}function z(e,t){if(null==e)return{};var r,s,o=function(e,t){if(null==e)return{};var r,s,o={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function G(e,t){var r=e.title,s=e.titleId,o=z(e,U);return c.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:256,height:256,viewBox:"0 0 256 256",xmlSpace:"preserve",ref:t,"aria-labelledby":s},o),r?c.createElement("title",{id:s},r):null,N||(N=c.createElement("defs",null)),c.createElement("g",{style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"none",fillRule:"nonzero",opacity:1},transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},c.createElement("path",{d:"M 77.236 8.396 H 12.764 C 5.715 8.396 0 14.111 0 21.16 v 35.913 c 0 7.05 5.715 12.764 12.764 12.764 h 16.724 L 45 85.35 l 15.511 -15.511 h 16.724 c 7.05 0 12.764 -5.715 12.764 -12.764 V 21.16 C 90 14.111 84.285 8.396 77.236 8.396 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(238,81,98)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),c.createElement("path",{d:"M 61.031 28.502 L 61.031 28.502 c -3.612 -3.612 -9.468 -3.612 -13.079 0 L 45 31.454 l -2.952 -2.952 c -3.612 -3.612 -9.468 -3.612 -13.079 0 v 0 c -3.612 3.612 -3.612 9.468 0 13.079 l 2.952 2.952 L 45 57.613 L 58.08 44.533 l 0 0 l 2.952 -2.952 C 64.643 37.97 64.643 32.114 61.031 28.502 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"})))}var V=c.forwardRef(G),H=(r.p,function(e){return(0,P.jsxs)("div",{className:D,children:[(0,P.jsx)("img",{src:e.profilePhoto,alt:"avatar"}),(0,P.jsx)("span",{children:e.message}),(0,P.jsxs)("div",{className:B,children:[(0,P.jsx)(V,{className:F}),(0,P.jsx)("span",{children:e.likesCount})]})]})}),J="MyPosts_postsBlock__Tyn6L",W="MyPosts_writePost__YGPfE",q="MyPosts_posts__W1RuA",T=r(6139),$=r(5304),Q=(0,$.BS)(15),X=(0,I.Z)({form:"post"})((function(e){return(0,P.jsxs)("form",{onSubmit:e.handleSubmit,className:W,children:[(0,P.jsx)(T.Z,{component:w.gx,name:"newPost",validate:[$.C1,Q],placeholder:"Post message"}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{children:"Add Post"})})]})})),Y=function(e){var t=e.profilePage.posts.map((function(t){return(0,P.jsx)(H,{message:t.message,likesCount:t.likesCount,profilePhoto:e.profilePage.profile?e.profilePage.profile.photos.large:null},t.id)}));return(0,P.jsxs)("div",{className:J,children:[(0,P.jsx)("h2",{children:"My Posts"}),(0,P.jsx)(X,{onSubmit:function(t){e.addPost(t.newPost)}}),(0,P.jsx)("div",{className:q,children:t})]})},K=c.memo(Y),ee=r(6070),te=r(8687),re=(0,te.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e((0,ee.WA)(t))}}}))(K),se=function(e){return(0,P.jsxs)("div",{className:u.content,children:[(0,P.jsx)(A,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfileFormData:e.saveProfileFormData,editModeStatus:e.editModeStatus}),e.isOwner?(0,P.jsx)(re,{className:u.postsBlock}):null]})},oe=r(3636),ne=r(7781),ie=r(4776),ae=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"refreshProfile",value:function(){var e=this.props.params.userId;null==e&&((e=this.props.authorizedUserId)||this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.params.userId!==e.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(se,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.params.userId,savePhoto:this.props.savePhoto,saveProfileFormData:this.props.saveProfileFormData,editModeStatus:this.props.editModeStatus}))}}]),r}(c.Component),le=(0,ne.qC)((0,te.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,editModeStatus:e.profilePage.editModeStatus}}),{getUserProfile:ee.et,getUserStatus:ee.Tq,updateUserStatus:ee.OL,savePhoto:ee.Ju,saveProfileFormData:ee.od}),ie.E,oe.Z)(ae)},3636:function(e,t,r){var s=r(1413),o=r(5671),n=r(3144),i=r(136),a=r(516),l=r(2791),c=r(7689),u=r(8687),f=r(184),p=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){var t=function(t){(0,i.Z)(l,t);var r=(0,a.Z)(l);function l(){return(0,o.Z)(this,l),r.apply(this,arguments)}return(0,n.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(e,(0,s.Z)({},this.props)):(0,f.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,u.$j)(p)(t)}}}]);
//# sourceMappingURL=595.7862f174.chunk.js.map