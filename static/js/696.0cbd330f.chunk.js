"use strict";(self.webpackChunk_1_project=self.webpackChunk_1_project||[]).push([[696],{3696:function(e,t,r){r.r(t),r.d(t,{default:function(){return ve}});var o,s=r(1413),n=r(5671),i=r(3144),l=r(136),a=r(516),c=r(2791),u={content:"Profile_content__njilw"},f=r(4942),p=r(9439),d=r(8992),h={descriptionBlock:"ProfileInfo_descriptionBlock__AO4M2",mainBlock:"ProfileInfo_mainBlock__5xtoG",avatarBlock:"ProfileInfo_avatarBlock__Nm38g",downloadIcon:"ProfileInfo_downloadIcon__3Q9Fj",status:"ProfileInfo_status__qnPE3",statusIcon:"ProfileInfo_statusIcon__WOwxZ",profileData:"ProfileInfo_profileData__Rdqog",profileEditBlock:"ProfileInfo_profileEditBlock__8ABpp",EditProfileDataIcon:"ProfileInfo_EditProfileDataIcon__vbBDp",profileDataList:"ProfileInfo_profileDataList__q1mGc",profileContacts:"ProfileInfo_profileContacts__ZS7UU",profileContactsList:"ProfileInfo_profileContactsList__r5nMj",dataEditForm:"ProfileInfo_dataEditForm__XmcH0",mainFormBlock:"ProfileInfo_mainFormBlock__ICgxs",aboutBlock:"ProfileInfo_aboutBlock__DvBrp",contactsBlock:"ProfileInfo_contactsBlock__3SxfA",jobCheck:"ProfileInfo_jobCheck__xSYvK",descriptionDarkBlock:"ProfileInfo_descriptionDarkBlock__4Ca3T"},m=r(4353),j=["title","titleId"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},v.apply(this,arguments)}function x(e,t){if(null==e)return{};var r,o,s=function(e,t){if(null==e)return{};var r,o,s={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function k(e,t){var r=e.title,s=e.titleId,n=x(e,j);return c.createElement("svg",v({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 121.51",ref:t,"aria-labelledby":s},n),void 0===r?c.createElement("title",{id:s},"edit"):r?c.createElement("title",{id:s},r):null,o||(o=c.createElement("path",{d:"M28.66,1.64H58.88L44.46,16.71H28.66a13.52,13.52,0,0,0-9.59,4l0,0a13.52,13.52,0,0,0-4,9.59v76.14H91.21a13.5,13.5,0,0,0,9.59-4l0,0a13.5,13.5,0,0,0,4-9.59V77.3l15.07-15.74V92.85a28.6,28.6,0,0,1-8.41,20.22l0,.05a28.58,28.58,0,0,1-20.2,8.39H11.5a11.47,11.47,0,0,1-8.1-3.37l0,0A11.52,11.52,0,0,1,0,110V30.3A28.58,28.58,0,0,1,8.41,10.09L8.46,10a28.58,28.58,0,0,1,20.2-8.4ZM73,76.47l-29.42,6,4.25-31.31L73,76.47ZM57.13,41.68,96.3.91A2.74,2.74,0,0,1,99.69.38l22.48,21.76a2.39,2.39,0,0,1-.19,3.57L82.28,67,57.13,41.68Z"})))}var g,b=c.forwardRef(k),y=(r.p,r(184)),_=function(e){var t=(0,c.useState)(!1),r=(0,p.Z)(t,2),o=r[0],s=r[1],n=(0,c.useState)(e.status),i=(0,p.Z)(n,2),l=i[0],a=i[1];(0,c.useEffect)((function(){a(e.status)}),[e.status]);return(0,y.jsx)("div",{className:h.status,children:o?(0,y.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),e.updateUserStatus(l)},value:l,onChange:function(e){a(e.currentTarget.value)}}):(0,y.jsxs)("div",{children:[(0,y.jsxs)("span",{children:["Status: ",(0,y.jsx)("p",{children:e.status||"-------"})]}),(0,y.jsx)(b,{onClick:function(){s(!0)},className:h.statusIcon})]})})},P=function(e){var t=e.contactTitle,r=e.contactValue;return(0,y.jsxs)("li",{className:h.contactItem,children:[t,": ",(0,y.jsx)("span",{children:r})]})},I=function(e){var t=e.profile,r=e.isOwner,o=(e.themeType,e.activateEditMode),s=[];for(var n in t.contacts)t.contacts[n]&&s.push((0,y.jsx)(P,{contactTitle:n,contactValue:t.contacts[n]},n));return(0,y.jsxs)("div",{className:h.profileData,children:[(0,y.jsxs)("div",{className:h.profileEditBlock,children:[(0,y.jsx)("h2",{children:"Profile info:"}),r?(0,y.jsx)(b,{className:h.EditProfileDataIcon,onClick:o}):null]}),(0,y.jsxs)("ul",{className:h.profileDataList,children:[(0,y.jsxs)("li",{children:["Full name: ",(0,y.jsx)("span",{children:t.fullName})]}),(0,y.jsxs)("li",{children:["About me: ",(0,y.jsx)("span",{children:t.aboutMe})]}),(0,y.jsxs)("li",{children:["Looking for a job: ",(0,y.jsx)("span",{children:t.lookingForAJob?"yes":"no"})]}),t.lookingForAJob?(0,y.jsxs)("li",{children:["My professional skills: ",(0,y.jsx)("span",{children:t.lookingForAJobDescription})]}):null]}),(0,y.jsxs)("div",{className:h.profileContacts,children:[(0,y.jsx)("h3",{children:"Contacts:"}),(0,y.jsx)("ul",{className:h.profileContactsList,children:s})]})]})},w=r(1595),O=r(704),S=r(9058),B=(0,O.Z)({form:"profile-form"})((function(e){var t=e.handleSubmit,r=e.profile,o=e.error;e.editModeStatus;return(0,y.jsxs)("form",{className:h.dataEditForm,onSubmit:t,children:[(0,y.jsxs)("div",{className:h.mainFormBlock,children:[(0,y.jsxs)("div",{className:h.aboutBlock,children:[(0,y.jsx)("span",{children:"Main info:"}),o?(0,y.jsx)("div",{className:S.Z.formErrorSummary,children:o}):null,(0,y.jsxs)("label",{children:[(0,y.jsx)("span",{children:"Full name"}),(0,w.Gr)(w.II,"Full name","fullName",[])]}),(0,y.jsxs)("label",{children:[(0,y.jsx)("span",{children:"About me:"}),(0,w.Gr)(w.gx,"About me","aboutMe",[])]}),(0,y.jsxs)("label",{className:h.jobCheck,children:[(0,y.jsx)("span",{children:"Looking for a job:"}),(0,w.Gr)(w.II,"","lookingForAJob",[],{type:"checkbox"}),(0,y.jsx)("span",{className:h.fake})]}),(0,y.jsxs)("label",{children:[(0,y.jsx)("span",{children:"My professional skills:"}),(0,w.Gr)(w.gx,"My professional skills","lookingForAJobDescription",[])]})]}),(0,y.jsxs)("div",{className:h.contactsBlock,children:[(0,y.jsx)("span",{children:"Contacts:"}),Object.keys(r.contacts).map((function(e){return"vk"!==e&&"mainLink"!==e&&"twitter"!==e&&"youtube"!==e?(0,y.jsxs)("label",{className:h.contactItem,children:[(0,y.jsx)("span",{children:e}),(0,w.Gr)(w.II,e,"contacts."+e,[])]},e):null}))]})]}),(0,y.jsx)("button",{children:"Save"})]})})),D=["title","titleId"];function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},E.apply(this,arguments)}function M(e,t){if(null==e)return{};var r,o,s=function(e,t){if(null==e)return{};var r,o,s={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function N(e,t){var r=e.title,o=e.titleId,s=M(e,D);return c.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 512 342.06",ref:t,"aria-labelledby":o},s),r?c.createElement("title",{id:o},r):null,g||(g=c.createElement("path",{d:"M271.14 2.64c50.45 8.83 86.48 38.5 110.54 83.1l4.51-.45c18.95-1.39 38.61 1.62 56.18 8.84 34.63 14.2 55.57 42.42 64.44 77.79 6.76 26.89 7.34 56.62-.79 83.27-12.47 41.01-42.09 62.32-81.01 75.68l-.42.13c-8.15 2.76-16.46 5.06-24.56 6.93-39.29 6.93-249.08 3.73-296.18.56l-2.4-.26c-8.02-1.07-15.95-2.77-23.54-5.15-35.34-11.01-60.51-35.03-72.13-70.51-7.96-24.36-7.56-50.6.37-74.93 6.68-20.46 16.3-34.33 29.63-44.85 15.76-12.45 37.62-20.69 57.19-26.21C115.68 34.94 187.54-11.94 271.14 2.64zm55.11 186.93c5.19.22 8.87 1.94 11 5.17 5.77 8.66-2.11 17.21-7.58 23.23l-67.7 59.77c-5.8 6.41-14.06 6.41-19.86 0l-61.25-61.4c-5.11-5.77-11.43-13.62-6.12-21.6 2.19-3.23 5.83-4.95 11.01-5.17h34.9v-55.43c0-7.86 6.47-14.37 14.36-14.37h41.98c7.89 0 14.35 6.7 14.35 14.37v55.43h34.91z"})))}var L,C=c.forwardRef(N),Z=(r.p,r(1694)),A=r.n(Z),F=function(e){var t=e.profile,r=e.status,o=e.updateUserStatus,s=e.isOwner,n=e.savePhoto,i=e.saveProfileFormData,l=e.editModeStatus,a=e.themeType,u=(0,c.useState)(!1),j=(0,p.Z)(u,2),v=j[0],x=j[1];return t?(0,y.jsxs)("div",{className:A()(h.descriptionBlock,(0,f.Z)({},h.descriptionDarkBlock,"DARK"===a)),children:[(0,y.jsxs)("div",{className:h.mainBlock,children:[(0,y.jsxs)("div",{className:h.avatarBlock,children:[(0,y.jsx)("img",{src:t.photos.large||m,alt:"user-avatar"}),s?(0,y.jsxs)("label",{children:[(0,y.jsx)(C,{className:h.downloadIcon}),(0,y.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})]}):null]}),s?(0,y.jsx)(_,{status:r,updateUserStatus:o}):null]}),v?(0,y.jsx)(B,{initialValues:t,onSubmit:function(e){i(e),"SUCCESS"===l&&x(!1)},profile:t,editModeStatus:l}):(0,y.jsx)(I,{profile:t,isOwner:s,activateEditMode:function(){x(!0)}})]}):(0,y.jsx)(d.Z,{})},T={item:"Post_item__wd+99",itemDeleting:"Post_itemDeleting__g8dGJ",rightBlock:"Post_rightBlock__T38sr",likesBlock:"Post_likesBlock__g8Sa7",likesIcon:"Post_likesIcon__P4v1-",deletePostIcon:"Post_deletePostIcon__avVr-",itemDark:"Post_itemDark__NeknB"},U=["title","titleId"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)}function z(e,t){if(null==e)return{};var r,o,s=function(e,t){if(null==e)return{};var r,o,s={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function H(e,t){var r=e.title,o=e.titleId,s=z(e,U);return c.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:256,height:256,viewBox:"0 0 256 256",xmlSpace:"preserve",ref:t,"aria-labelledby":o},s),r?c.createElement("title",{id:o},r):null,L||(L=c.createElement("defs",null)),c.createElement("g",{style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"none",fillRule:"nonzero",opacity:1},transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},c.createElement("path",{d:"M 77.236 8.396 H 12.764 C 5.715 8.396 0 14.111 0 21.16 v 35.913 c 0 7.05 5.715 12.764 12.764 12.764 h 16.724 L 45 85.35 l 15.511 -15.511 h 16.724 c 7.05 0 12.764 -5.715 12.764 -12.764 V 21.16 C 90 14.111 84.285 8.396 77.236 8.396 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(238,81,98)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),c.createElement("path",{d:"M 61.031 28.502 L 61.031 28.502 c -3.612 -3.612 -9.468 -3.612 -13.079 0 L 45 31.454 l -2.952 -2.952 c -3.612 -3.612 -9.468 -3.612 -13.079 0 v 0 c -3.612 3.612 -3.612 9.468 0 13.079 l 2.952 2.952 L 45 57.613 L 58.08 44.533 l 0 0 l 2.952 -2.952 C 64.643 37.97 64.643 32.114 61.031 28.502 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"})))}var V,G,J=c.forwardRef(H),W=(r.p,["title","titleId"]);function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},q.apply(this,arguments)}function K(e,t){if(null==e)return{};var r,o,s=function(e,t){if(null==e)return{};var r,o,s={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Y(e,t){var r=e.title,o=e.titleId,s=K(e,W);return c.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",id:"delete",ref:t,"aria-labelledby":o},s),r?c.createElement("title",{id:o},r):null,V||(V=c.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),G||(G=c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zm3.17-7.83c.39-.39 1.02-.39 1.41 0L12 12.59l1.42-1.42c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 14l1.42 1.42c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0L12 15.41l-1.42 1.42c-.39.39-1.02.39-1.41 0-.39-.39-.39-1.02 0-1.41L10.59 14l-1.42-1.42c-.39-.38-.39-1.02 0-1.41zM15.5 4l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z"})))}var $=c.forwardRef(Y),Q=(r.p,function(e){var t,r=(0,c.useState)(!1),o=(0,p.Z)(r,2),s=o[0],n=o[1];return(0,y.jsxs)("div",{className:A()(T.item,(t={},(0,f.Z)(t,T.itemDeleting,!0===s),(0,f.Z)(t,T.itemDark,"DARK"===e.themeType),t)),children:[(0,y.jsx)("img",{src:e.profilePhoto,alt:"avatar"}),(0,y.jsx)("span",{className:T.text,children:e.message}),(0,y.jsxs)("div",{className:T.rightBlock,children:[(0,y.jsxs)("div",{className:T.likesBlock,children:[(0,y.jsx)(J,{className:T.likesIcon}),(0,y.jsx)("span",{children:e.likesCount})]}),(0,y.jsx)($,{className:T.deletePostIcon,onClick:function(){var t;n(!0),t=e.postId,e.onDeletePost(t)}})]})]})}),X="MyPosts_postsBlock__Tyn6L",ee="MyPosts_writePost__YGPfE",te="MyPosts_posts__W1RuA",re="MyPosts_postsDarkBlock__Ysoo1",oe=r(6139),se=r(5304),ne=(0,se.BS)(35),ie=(0,O.Z)({form:"post"})((function(e){return(0,y.jsxs)("form",{onSubmit:e.handleSubmit,className:ee,children:[(0,y.jsx)(oe.Z,{component:w.gx,name:"newPost",validate:[se.C1,ne],placeholder:"Post message"}),(0,y.jsx)("button",{children:"Add Post"})]})})),le=function(e){var t=function(t){e.deletePost(t)},r=e.profilePage.posts.map((function(r){return(0,y.jsx)(Q,{message:r.message,likesCount:r.likesCount,profilePhoto:e.profilePage.profile?e.profilePage.profile.photos.large:null,onDeletePost:t,postId:r.id,themeType:e.themeType},r.id)}));return(0,y.jsxs)("div",{className:A()(X,(0,f.Z)({},re,"DARK"===e.themeType)),children:[(0,y.jsx)("h2",{children:"My Posts"}),(0,y.jsx)(ie,{onSubmit:function(t){e.addPost(t.newPost)}}),(0,y.jsx)("div",{className:te,children:r})]})},ae=c.memo(le),ce=r(6070),ue=r(8687),fe=(0,ue.$j)((function(e){return{profilePage:e.profilePage,themeType:e.settings.themeType}}),(function(e){return{addPost:function(t){e((0,ce.WA)(t))},deletePost:function(t){e((0,ce.kj)(t))}}}))(ae),pe=function(e){return(0,y.jsxs)("div",{className:u.content,children:[(0,y.jsx)(F,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfileFormData:e.saveProfileFormData,editModeStatus:e.editModeStatus,themeType:e.themeType}),e.isOwner?(0,y.jsx)(fe,{className:u.postsBlock,themeType:e.themeType}):null]})},de=r(3636),he=r(7781),me=r(4776),je=function(e){(0,l.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"refreshProfile",value:function(){var e=this.props.params.userId;null==e&&((e=this.props.authorizedUserId)||this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.params.userId!==e.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,y.jsx)(pe,(0,s.Z)((0,s.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.params.userId,savePhoto:this.props.savePhoto,saveProfileFormData:this.props.saveProfileFormData,editModeStatus:this.props.editModeStatus,themeType:this.props.themeType}))}}]),r}(c.Component),ve=(0,he.qC)((0,ue.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,editModeStatus:e.profilePage.editModeStatus,themeType:e.settings.themeType}}),{getUserProfile:ce.et,getUserStatus:ce.Tq,updateUserStatus:ce.OL,savePhoto:ce.Ju,saveProfileFormData:ce.od}),me.E,de.Z)(je)},3636:function(e,t,r){var o=r(1413),s=r(5671),n=r(3144),i=r(136),l=r(516),a=r(2791),c=r(7689),u=r(8687),f=r(184),p=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){var t=function(t){(0,i.Z)(a,t);var r=(0,l.Z)(a);function a(){return(0,s.Z)(this,a),r.apply(this,arguments)}return(0,n.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(e,(0,o.Z)({},this.props)):(0,f.jsx)(c.Fg,{to:"/login"})}}]),a}(a.Component);return(0,u.$j)(p)(t)}}}]);
//# sourceMappingURL=696.0cbd330f.chunk.js.map